(()=>{const e=document.getElementById("locationButton"),t=document.getElementById("weatherTemp"),n=document.querySelector("img"),c=document.getElementById("weatherDesc"),a=document.getElementById("fahrenheit"),i=document.getElementById("celsius");let r,o=document.querySelector('input[name="tempscale"]:checked').value,m=document.getElementById("location");async function s(){try{o=document.querySelector('input[name="tempscale"]:checked').value;const e=await fetch(`https://api.weatherapi.com/v1/current.json?key=3867dbef756147b0b14210801232804&q=${m.value}&aqi=no`,{mode:"cors"});r=await e.json();let a=r.current.condition.text,i=r.location.name;const s=await fetch(`https://api.giphy.com/v1/gifs/translate?api_key=WpKcZhie5SWn9qBuFg5FTbSRjI5MJQyD&s=${a}`,{mode:"cors"}),d=await s.json();n.src=d.data.images.original.url,c.innerHTML=a,t.innerHTML="F"==o?`The weather in ${i} is: ${r.current.temp_f}째F`:`The weather in ${i} is: ${r.current.temp_c}째C`}catch(e){console.log(e),document.getElementById("error").innerHTML="Error! Cannot find a GIF for that search term!"}}n.src="https://media1.giphy.com/media/QRhtqYeEywJI4/giphy.gif?cid=ecf05e47adsur9lsxnckwzndhmgjfgepipihtx2xh9as3egz&ep=v1_gifs_search&rid=giphy.gif&ct=g",e.addEventListener("click",s),m.addEventListener("keypress",(e=>{"Enter"===e.key&&s()})),a.addEventListener("change",(()=>{let e=r.location.name;t.innerHTML=`The weather in ${e} is: ${r.current.temp_f}째F`})),i.addEventListener("change",(()=>{let e=r.location.name;t.innerHTML=`The weather in ${e} is: ${r.current.temp_c}째C`}))})();